import { describe, expect, test } from 'bun:test';
import { portugueseNumInWords } from './pt';

describe('Português', () => {
  describe('Dígitos individuais', () => {
    test.each<[number, string]>([
      [0, 'zero'],
      [1, 'um'],
      [2, 'dois'],
      [3, 'três'],
      [4, 'quatro'],
      [5, 'cinco'],
      [6, 'seis'],
      [7, 'sete'],
      [8, 'oito'],
      [9, 'nove'],
    ])('%i deve retornar %s', (num, expected) => {
      expect(portugueseNumInWords(num)).toBe(expected);
    });
  });

  describe('Dígitos duplos', () => {
    test.each<[number, string]>([
      [10, 'dez'],
      [11, 'onze'],
      [12, 'doze'],
      [21, 'vinte e um'],
      [99, 'noventa e nove'],
    ])('%i deve retornar %s', (num, expected) => {
      expect(portugueseNumInWords(num)).toBe(expected);
    });
  });

  describe('Dígitos triplos', () => {
    test.each<[number, string]>([
      [100, 'cem'],
      [101, 'cento e um'],
      [111, 'cento e onze'],
      [321, 'trezentos e vinte e um'],
      [999, 'novecentos e noventa e nove'],
    ])('%i deve retornar %s', (num, expected) => {
      expect(portugueseNumInWords(num)).toBe(expected);
    });
  });

  describe('Milhares', () => {
    test.each<[number, string]>([
      [1000, 'mil'],
      [1001, 'mil um'],
      [2001, 'dois mil um'],
      [4321, 'quatro mil trezentos e vinte e um'],
      [9999, 'nove mil novecentos e noventa e nove'],
    ])('%i deve retornar %s', (num, expected) => {
      expect(portugueseNumInWords(num)).toBe(expected);
    });
  });

  describe('Milhões', () => {
    test.each<[number, string]>([
      [1000000, 'um milhão'],
      [2000001, 'dois milhões um'],
      [
        1234567,
        'milhão duzentos e trinta e quatro mil quinhentos e sessenta e sete',
      ],
      [
        7654321,
        'sete milhões seiscentos e cinquenta e quatro mil trezentos e vinte e um',
      ],
      [
        9999999,
        'nove milhões novecentos e noventa e nove mil novecentos e noventa e nove',
      ],
    ])('%i deve retornar %s', (num, expected) => {
      expect(portugueseNumInWords(num)).toBe(expected);
    });
  });

  describe.todo('Bilhões', () => {
    test.each<[number, string]>([
      [1000000000, 'um bilhão'],
      [2000000001, 'dois bilhões e um'],
      [
        1234567890,
        'um bilhão duzentos e trinta e quatro milhões quinhentos e sessenta e sete mil oitocentos e noventa',
      ],
      [
        9876543210,
        'nove bilhões oitocentos e setenta e seis milhões quinhentos e quarenta e três mil duzentos e dez',
      ],
      [
        9999999999,
        'nove bilhões novecentos e noventa e nove milhões novecentos e noventa e nove mil novecentos e noventa e nove',
      ],
    ])('%i deve retornar %s', (num, expected) => {
      expect(portugueseNumInWords(num)).toBe(expected);
    });
  });

  describe.todo('Trilhões', () => {
    test.each<[number, string]>([
      [1000000000000, 'um trilhão'],
      [2000000000001, 'dois trilhões e um'],
      [
        1234567890123,
        'um trilhão duzentos e trinta e quatro bilhões quinhentos e sessenta e sete milhões oitocentos e noventa mil cento e vinte e três',
      ],
      [
        9876543210987,
        'nove trilhões oitocentos e setenta e seis bilhões quinhentos e quarenta e três milhões duzentos e dez mil novecentos e oitenta e sete',
      ],
      [
        9999999999999,
        'nove trilhões novecentos e noventa e nove bilhões novecentos e noventa e nove milhões novecentos e noventa e nove mil novecentos e noventa e nove',
      ],
    ])('%i deve retornar %s', (num, expected) => {
      expect(portugueseNumInWords(num)).toBe(expected);
    });
  });

  describe('Edge Cases', () => {
    test.each<[number, string]>([
      [-1, 'menos um'],
      [-1234567, 'menos um milhão duzentos e trinta e quatro mil quinhentos e sessenta e sete'],
      // [Number.MAX_SAFE_INTEGER, 'nove quadrilhões duzentos e vinte e três trilhões trezentos e setenta e dois bilhões trinta e seis milhões oitocentos e cinquenta e quatro mil setecentos e sete'],
    ])('%i deve retornar %s', (num, expected) => {
      expect(portugueseNumInWords(num)).toBe(expected);
    });
  });
});
